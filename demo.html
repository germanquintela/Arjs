<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Basic Usage</title>
</head>
<body>
	<!-- <input type="file" onchange="detect()" name="" id="img"> -->

	<input type="file" onchange="detect()"><br>
	<img src="" height="200" alt="Image preview..." id="img">

<script src="js/tesseract.js"></script>
<script>


var exampleImage = ''

	function detect() {


		var preview = document.querySelector('img');
		var file    = document.querySelector('input[type=file]').files[0];
		var reader  = new FileReader();

		reader.onloadend = function () {
			preview.src = reader.result;
			exampleImage = reader.result
			detect2()
		}

		if (file) {
			reader.readAsDataURL(file);
		} else {
			preview.src = "";
		}


	}

	function detect2() {
		const worker = new Tesseract.TesseractWorker();
			worker.recognize(exampleImage)
				.then(result => console.log('result', result))
				.finally(() => worker.terminate());
			const detectWorker = new Tesseract.TesseractWorker();
			detectWorker.detect(exampleImage)
				.then(result => console.log('result', result))
				.finally(() => detectWorker.terminate());
	}
</script>
</body>
</html>